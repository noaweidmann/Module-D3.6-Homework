{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block content %}
{% if news %}
<table>
    <tr>
        <td>Title</td>
        <td>Date of publication</td>
        <td>Contents</td>
        <td>Category</td>
    </tr>
    {% for post in news %}
    <tr>
        <td>{{ post.title|censor }}</td>
        <td>{{ post.dateCreation|date:'d M Y' }}</td>
        <td>{{ post.text|censor|truncatechars:20 }}</td>
        {% for cat in post.postCategory.all %}
        <td>{{ cat.name }}</td>
        {% endfor %}
    </tr>
    {% endfor %}
</table>
{% else %}
<h3>No publications yet!</h3>
{% endif %}
{% endblock content %}